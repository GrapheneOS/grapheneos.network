#!/bin/bash

set -o errexit -o nounset -o pipefail

sha256() {
    echo -n "$(basename $1): "
    if [[ -n ${2-} ]]; then
        curl -s "$1" --connect-to $(basename $(dirname $1)):443:$2:443
    else
        curl -s "$1"
    fi | sha256sum | cut -d ' ' -f 1
}

echo Broadcom

echo

echo gllto.glpals.com
sha256 https://gllto.glpals.com/7day/v5/latest/lto2.dat
sha256 https://gllto.glpals.com/rtistatus4.dat
sha256 https://gllto.glpals.com/rto/v1/latest/rto.dat

echo

echo agnss.goog
sha256 https://agnss.goog/lto2.dat
sha256 https://agnss.goog/rtistatus.dat
sha256 https://agnss.goog/rto.dat

for i in {0..3}; do
    echo

    echo broadcom.psds.grapheneos.org via $i.grapheneos.network
    sha256 https://broadcom.psds.grapheneos.org/lto2.dat $i.grapheneos.network
    sha256 https://broadcom.psds.grapheneos.org/rtistatus.dat $i.grapheneos.network
    sha256 https://broadcom.psds.grapheneos.org/rto.dat $i.grapheneos.network
done

echo

echo Qualcomm

echo

echo path1.xtracloud.net
sha256 https://path1.xtracloud.net/xtra3Mgrbeji.bin

echo

echo path2.xtracloud.net
sha256 https://path2.xtracloud.net/xtra3Mgrbeji.bin

echo

echo path3.xtracloud.net
sha256 https://path3.xtracloud.net/xtra3Mgrbeji.bin

for i in {0..2}; do
    echo

    echo qualcomm.psds.grapheneos.org via $i.grapheneos.network
    sha256 https://qualcomm.psds.grapheneos.org/xtra3Mgrbeji.bin $i.grapheneos.network
done
